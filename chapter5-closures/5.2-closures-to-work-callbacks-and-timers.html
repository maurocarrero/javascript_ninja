<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Closures</title>
  <link rel="stylesheet" href="bower_components/jasmine/lib/jasmine-core/jasmine.css">
  <style type="text/css">
    #box1, #box2, #box3, #box4 {
      position: relative;
    }
  </style>
</head>

<body>

  <h1>Closures to work</h1>
  
  <div id="box1">F A C U</div>
  <div id="box2">N A C H O</div>
  <div id="box3">L U C A S</div>
  <div id="box4">J O A C O</div>

  <script src="bower_components/jquery/dist/jquery.min.js"></script>
  <script src="bower_components/jasmine/lib/jasmine-core/jasmine.js"></script>
  <script src="bower_components/jasmine/lib/jasmine-core/jasmine-html.js"></script>
  <script src="bower_components/jasmine/lib/jasmine-core/boot.js"></script>
  <script type="text/javascript">
    function animateIt(elementId, interval) {
      var elem = document.getElementById(elementId);
      var tick = 0;

      var timer = setInterval(function () {
        if (tick < 100) {
          elem.style.left = elem.style.top = tick + 'px';
          tick += 1;
        } else {
          clearInterval(timer);
          it('Tick accessed via a closure', function () {
            expect(tick).toBe(100);
          });
          it('Element also accessed via a closure', function () {
            expect(elem).not.toBe(null);
          });
          it('Time reference also obtained via a closure', function () {
            expect(timer).not.toBe(null);
          });
        }
      }, interval);
    }

    animateIt('box1', 10);
    animateIt('box2', 15);
    animateIt('box3', 20);
    animateIt('box4', 25);

  </script>

</body>
</html>